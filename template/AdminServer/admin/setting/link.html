<!DOCTYPE html>
<html class="x-admin-sm">

<head>
    <meta charset="UTF-8">
    <title>欢迎页面-X-admin2.0</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="stylesheet" href="/static/css/font.css">
    <link rel="stylesheet" href="/static/css/xadmin.css">
    <script src="/static/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="/static/js/xadmin.js"></script>
    <script type="text/javascript" src="/static/js/link.js"></script>
    <script type="text/javascript" src="/static/js/utils.js"></script>
</head>
<body>
<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-body ">
                    <form class="layui-form layui-col-space5">
                        <div class="layui-inline layui-show-xs-block">
                            <input class="layui-input" autocomplete="off" placeholder="开始日" name="start_time" id="start_time"></div>
                        <div class="layui-inline layui-show-xs-block">
                            <input class="layui-input" autocomplete="off" placeholder="截止日" name="end_time" id="end_time"></div>
                        <div class="layui-inline layui-show-xs-block">
                            <input type="text" name="link_name" placeholder="友情链接名称" autocomplete="off" class="layui-input"></div>
                        <div class="layui-inline layui-show-xs-block" style="width: 100px">
                            <select name="time_flag" lay-verify="required">
                                <option value="create">创建时间</option>
                                <option value="update">更新时间</option>
                            </select>
                        </div>
                        <div class="layui-inline layui-show-xs-block" style="width: 80px">
                            <select name="status_flag" lay-verify="required">
                                <option value="0">全部</option>
                                <option value="1">显示</option>
                                <option value="2">隐藏</option>
                            </select>
                        </div>
                        <div class="layui-inline layui-show-xs-block">
                            <button class="layui-btn" lay-submit="" lay-filter="sreach">
                                <i class="layui-icon">&#xe615;</i></button>
                        </div>
                    </form>
                </div>
                <div class="layui-card-body ">
                    <table class="layui-table" lay-data="{url:'/admin/setting/link_list',page:true,toolbar: '#toolbarTpl',id:'linkListRender'}" lay-filter="linkListAction">
                        <thead>
                        <tr>
                            <th lay-data="{type:'checkbox'}">ID</th>
                            <th lay-data="{field:'id', width:80, sort: true}">ID</th>
                            <th lay-data="{field:'url', minwidth:160, toolbar: '#linkTpl'}">链接地址</th>
                            <th lay-data="{field:'name', width: 160}">链接名称</th>
                            <th lay-data="{field:'create_time', width:160, templet: function(d) {return  new Date(d.create_time*1000).Format('YYYY-MM-DD hh:mm:ss');}}">创建时间</th>
                            <th lay-data="{field:'update_time', width:160, templet: function(d) {return new Date(d.update_time*1000).Format('YYYY-MM-DD hh:mm:ss');}}">更新时间</th>
                            <th lay-data="{fixed:'right', width:200, toolbar: '#actionTpl'}">操作</th>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/html" id="linkTpl">
    <a onclick="xadmin.open('{{d.name}}','{{d.url}}','','',true)" class="layui-btn layui-btn-xs" style="background-color: #5FB878">{{d.url}}</a>
</script>
<script type="text/html" id="toolbarTpl">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="addLink" ><i class="layui-icon"></i>添加</button>
        <button class="layui-btn layui-btn-sm" lay-event="startLinks" style="background-color: #5FB878"><i class="layui-icon layui-icon-play"></i>批量开启</button>
        <button class="layui-btn layui-btn-sm layui-bg-orange" lay-event="stopLinks"><i class="layui-icon layui-icon-pause"></i>批量关闭</button>
        <button class="layui-btn layui-btn-sm layui-btn-danger" lay-event="deleteLinks"><i class="layui-icon layui-icon-delete"></i>批量删除</button>
    </div>
</script>
<script type="text/html" id="actionTpl">
{{#  if(d.status === 1){ }}
<a onclick="changeLinkStatus({{d.id}},this)" href="javascript:;"  title="显示">
    <i class="layui-icon layui-icon-pause"></i>
</a>
{{#  } else { }}
<a  onclick="changeLinkStatus({{d.id}},this)" href="javascript:;"  title="隐藏">
    <i class="layui-icon layui-icon-play"></i>
</a>
{{#  } }}
<a title="编辑"  lay-event="edit" href="javascript:;">
    <i class="layui-icon">&#xe642;</i>
</a>
<i></i>
<a title="删除" lay-event="delete" href="javascript:;">
    <i class="layui-icon">&#xe640;</i>
</a>
</script>

</html>